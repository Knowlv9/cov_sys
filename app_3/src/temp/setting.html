{% extends "layout.html" %}

{% block eachContent %}
<link rel="stylesheet" href="./static/styles/index.css">
<link rel="stylesheet" href="./static/styles/home.css">
<link rel="stylesheet" href="./static/styles/setting.css">
{% endblock %}

{% block content %}
<div id="Wrap" class="container-fluid">
	<div class="row mt-3 h-100">
		<div class="text-center">
			<h3>Cov Report</h3>
		</div>

		<div class="row h-100">
			{% include "sideContent.html" %}

			<div id="mainContent" class="mainContent col-10">
				<div>
					<h3>設定</h3>
				</div>

				<div class="container-fluid">
					<div class="row">
						<div>
							<h4>送信者リスト</h4>
						</div>

						<table class="table" id="postList">
							<thead>
								<tr>
									<th>都道府県</th>
									<th>宛名</th>
									<th>email</th>
									<th>テンプレート</th>
								</tr>
							</thead>
						</table>

					</div>

					<div class="row">
						<div>
							<h4>出力ファイル 列名リスト</h4>
						</div>
						<table id="OutputTable" class="table">
							<thead>
								<tr>
									<th class="col-3"></th>
									<th class="col-3"></th>
									<th class="col-3"></th>
									<th class="col-3"></th>
								</tr>
							</thead>
							<tbody>
								{% set ns = namespace(i = 0) %}
								{% set l =  params["mainfile"]["read_col"]|length %}
								{% set r = (l / 4 + 1)|int %}
								{% for i in range(0, r) %}

								<tr>
									{% if l > ns.i  %}
									<td class="col">
										<label>
											<input type="checkbox" name="outputId" key={{ns.i}}
											 value={{ params["mainfile"]["read_col"][ns.i] }}>
											{{ params["mainfile"]["read_col"][ns.i] }}
										</label>
									</td>
									{% else %}
									<td></td>
									{% endif %}

									{% if l > ns.i+1 %}
									<td class="col">
										<label>
											<input type="checkbox" name="outputId" key={{ns.i+1}}
											 value={{ params["mainfile"]["read_col"][ns.i+1] }}>
											{{ params["mainfile"]["read_col"][ns.i+1] }}
										</label>
									</td>
									{% else %}
									<td></td>
									{% endif %}

									{% if l > ns.i+2 %}
									<td class="col">
										<label>
											<input type="checkbox" name="outputId" key={{ns.i+2}}
											 value={{ params["mainfile"]["read_col"][ns.i+2] }}>
											{{ params["mainfile"]["read_col"][ns.i+2] }}
										</label>
									</td>
									{% else %}
									<td></td>
									{% endif %}

									{% if l > ns.i+3 %}
									<td class="col">
										<label>
											<input type="checkbox" name="outputId" key={{ns.i+3}}
											 value={{ params["mainfile"]["read_col"][ns.i+3] }}
											>
											{{ params["mainfile"]["read_col"][ns.i+3] }}
										</label>
									</td>
									{% else %}
									<td></td>
									{% endif %}
								</tr>
								<tr>
								</tr>
								{% set ns.i = ns.i + 4 %}
								{% endfor %}
							</tbody>
						</table>
					</div>

					<div class="row">
						<div class="text-center">
							<div class="">
								<button id="saveConf" class="btn w-25">保存</button>
							</div>
						</div>
					</div>
					<div class="row">
						{{params["mainfile"]["read_col"]}}
					</div>

				</div>
			</div>
		</div>
	</div>

</div>
{% endblock %}

{% block myscript %}
<script src="./static/js/setting.js" charset="utf-8"></script>
{% endblock %}
